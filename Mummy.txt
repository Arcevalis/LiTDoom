

ACTOR BDMummy 30079
{
	Health 300
	Height 48
	Scale 0.7
	Mass 500
	Speed 10
	FastSpeed 14
	PainChance 100
	Painchance "Shock", 256
	PainChance "Acid", 255
	Painchance "beartrap", 255
	Painchance "Bleeding", 80 painchance "bleedingarmor", 80
	DamageFactor "Crush", 20.0
	DamageFactor "Use", 0.0
	DamageFactor "Stealth", 0.0
	Monster
	MeleeThreshold 196
	+MISSILEMORE 
	+FLOORCLIP
	SeeSound "MUMYSEE"
	PainSound "skeleton/pain"
	DeathSound "MUMYDIE"
	ActiveSound "MUMYACT"
	MeleeSound "skeleton/melee"
	Tag "Mummy"
	HitObituary "You have been reduced to a pulp by a Mummy."
	Obituary "You have been reduced to a pulp by a Mummy."
	States
	{
	Spawn2:
		MUMA B 10 A_Look
		Loop
	Spawn:
		MUMA B 1
		TNT1 A 0 ACS_NamedExecuteWithResult("RADARSIGNAL",0)
	Givearmor:
		TNT1 A 0 A_JumpIf(GetCVAR("EnemyArmorValue")==true,1)
		goto look
		TNT1 A 0 A_GiveInventory("40armorlow")
		TNT1 A 0 A_GiveInventory("haslightarmor")
		goto look	  
	Look:
		MUMA B 11 A_Look
		Loop
	See:
		MUMA AA 2 A_Chase
		MUMA BB 2 A_Chase
		MUMA CC 2 A_Chase
		MUMA DD 2 A_Chase
		MUMA EE 2 A_Chase
		MUMA FF 2 A_Chase
		TNT1 A 0 A_JumpIfintargetInventory("predatormode", 1, "Look")
		Loop
	
	Missile:
	SARG E 0 A_FaceTarget
	SARG E 0 A_RECOIL(-10)
	MUMA G 6 A_PlaySound("skeleton/swing", 1)
	MUMA H 6 A_FaceTarget
	TNT1 A 0 a_checkproximity("Parried","Axeparry",80.0,1,CPXF_NOZ)
	MUMA I 6 A_SkelFist

	Melee:
		MUMA G 1 A_FaceTarget
		TNT1 A 0 A_Recoil(-5)
		MUMA G 6 A_PlaySound("skeleton/swing", 1)
		MUMA H 6 A_FaceTarget
		TNT1 A 0 a_checkproximity("Parried","Axeparry",80.0,1,CPXF_NOZ)
		MUMA I 6 A_SkelFist
		Goto See

	Parried:
		TNT1 A 0 A_JumpIfintargetInventory("isdoomguy", 1, "Parry2")
		TNT1 A 0 A_JumpIfintargetInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpifintargetInventory("UsedStamina",70,"CounterParry")
		TNT1 A 0 A_JumpifintargetInventory("UsedStamina",1970,"CounterParry")
		goto Parry2
	CounterParry:
		TNT1 A 0 A_startsound("KICKWALL",800)
		TNT1 A 0 A_givetotarget("triptoken",1)
		TNT1 A 0 A_takefromtarget("axedurability",10)
		TNT1 A 0 A_givetotarget("usedstamina",80)
		TNT1 A 0 A_CustomMissile("KnockAttack",10,0,0,0)
		goto See
	Parry2:
		TNT1 A 0 A_CHANGEFLAG("NOPAIN",1)
		TNT1 A 0 A_startsound("PARRIED",801)
		TNT1 A 0 A_givetotarget("usedstamina",30)
		TNT1 A 0 A_givetotarget("parrytoken",1)
		TNT1 A 0 A_takefromtarget("axedurability",4)
		TNT1 A 0 A_FaceTarget
		TNT1 A 0 A_SpawnItemex ("parryeffect", 6, 0,30,0,0,0,0, SXF_SETMASTER)
		MUMA L 18
		MUMA L 18 A_Pain
		GOTO pain.acid

PAIN.SYRINGE2:
	TNT1 A 0 A_CHANGEFLAG("FORCEINFIGHTING",1)
	TNT1 A 0 A_CHANGEFLAG("DOHARMSPECIES",1)
	TNT1 A 0 A_CHANGEFLAG("DONTHARMSPECIES",0)
	TNT1 A 0 A_CHANGEFLAG("DONTHARMCLASS",0)
	TNT1 A 0 A_CHANGEFLAG("NOINFIGHTSPECIES",0)
	TNT1 A 0 A_CHANGEFLAG("NOINFIGHTING",0)
	TNT1 A 0 A_CLEARTARGET
	TNT1 A 0 A_EXPLODE(1,270,XF_NOTMISSILE | XF_EXPLICITDAMAGETYPE,0,270,0,0,"bulletpuff","frenzytrigger")
	goto see
PAIN.FRENZYTRIGGER:
	TNT1 A 0 Healthing(1)
	TNT1 A 0 A_CHANGEFLAG("FORCEINFIGHTING",1)
	TNT1 A 0 A_CHANGEFLAG("DOHARMSPECIES",1)
	TNT1 A 0 A_CHANGEFLAG("DONTHARMSPECIES",0)
	TNT1 A 0 A_CHANGEFLAG("DONTHARMCLASS",0)
	TNT1 A 0 A_CHANGEFLAG("NOINFIGHTSPECIES",0)
	TNT1 A 0 A_CHANGEFLAG("NOINFIGHTING",0)
  goto See

Pain.Shock:
	TNT1 A 0 A_spawnitem("plasmaexplosion",0,30)
		TNT1 A 0 A_giveinventory("shockcharge",10)	
		TNT1 A 0 A_playsound("Sparks/Spawn", CHAN_7)
	
	PAIN.SYRINGE1:
	TNT1 A 0 A_CHANGEFLAG("FRIENDLY",1)
	tnt1 a 0 givebody(400)	
	Pain.Acid:
		MUMA L 18
		MUMA L 18 A_Pain

pain.bleedingarmor:	
Pain.Bleeding:
	TNT1 A 0 A_CHANGEFLAG("NOPAIN",0)
	TNT1 A 0 A_CustomMissile ("Brutal_FlyingBlood", 55, 0, random (0, 360), 2, random (0, 160))
	TNT1 A 0 a_Jump(80, "See")
	goto Pain
	
	
	Pain.Beartrap:
		TNT1 A 0 A_giveinventory("istrapped",1)
		TNT1 A 0 a_changeflag("NOPAIN",1)
		TNT1 A 0 a_changeflag("DONTHRUST",1)
		TNT1 A 0 A_CustomMissile ("Brutal_FlyingBlood", 10, 0, random (0, 360), 2, random (0, 160))
		TNT1 A 0 a_spawnitem("beartraptriggered",0,0)
		MUMA L 3 a_scream
		TNT1 A 0 
	Trapped:
		MUMA B 35 
		TNT1 A 0 a_jump(160,3)
		MUMA L 3 a_scream
		TNT1 A 0 A_CustomMissile ("Brutal_FlyingBlood", 10, 0, random (0, 360), 2, random (0, 160))
		TNT1 A 0 a_checkproximity("Trapped", "beartraptriggered", 50,1)
		TNT1 A 0 A_TAKEinventory("istrapped",1)
		TNT1 A 0 a_changeflag("NOPAIN",0)
		TNT1 A 0 a_changeflag("DONTHRUST",0)
		goto see
	
	Pain:
		MUMA L 5
		MUMA L 5 A_Pain
		TNT1 A 0 A_JumpIfInventory ("shockcharge", 1, "Shocked")
		Goto See
		
	Shocked:
	TNT1 A 0 A_takeinventory("shockcharge",1)
	TNT1 A 0 A_spawnitem("plasmashock",0,30)
	TNT1 A 0 A_DamageSelf(2,"plasma")
	goto Pain
	
	
	 Death.Beartrap:
		TNT1 A 0 A_checkproximity("Death","beartrapTriggered",40,1)
		TNT1 A 0 a_spawnitem("beartrap",0,0)
	Death:
		MUMA LM 7
		MUMA N 7 A_Scream
		MUMA O 7 A_NoBlocking
		MUMA P 7
		TNT1 A 0 A_CustomMissile ("neutralblood", 25, 0, random (0, 360), 2, random (30, 150))
		MUMA Q -1
		Stop
		
Death.ChainCut:
Death.ChainSaw:
		TNT1 A 0 A_SpawnItemEx("ArmorGem", 0, 0, 20, random (-1, 1), random (-1, 1), 8)
		TNT1 A 0 A_SpawnItemEx("ArmorGem", 0, 0, 20, random (-1, 1), random (-1, 1), 8)		
	goto death
	
	Death.Acid:
	Death.Fire:
	Death.Burn:
	Death.PLasma:
	Death.SHOCK:
	Death.GreenFire:
		MUMA LM 7
		MUMA N 4 A_Scream
		MUMA O 4 A_NoBlocking
		MUMA P 1
		TNT1 A 0 A_Playsound("props/redfire")
		CARB NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN 2 A_CustomMissile ("FlameTrails", 25, 0, random (0, 360), 2, random (70, 130))
        CARB NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN 10 A_CustomMissile ("PlasmaSmoke", 25, 0, random (0, 360), 2, random (70, 130))
        CARB N -1
        Stop

	XDeath:
	death.RailgunBig:
	Death.ExplosiveImpact:
		TNT1 AAAAA 0 A_CustomMissile ("RevenantDust", 60, 0, random (0, 360), 2, random (0, 360))
		TNT1 AAAAAA 0 A_CustomMissile ("RevenantDust2", 60, 0, random (0, 360), 2, random (0, 360))
        TNT1 A 0 A_CustomMissile ("XDeathRevenantHead", 52, 0, random (0, 360), 2, random (0, 160))
		TNT1 AAA 0 A_CustomMissile ("XDeath1", 67, 0, random (0, 360), 2, random (30, 150))
		TNT1 AAA 0 A_CustomMissile ("XDeath1", 60, 0, random (0, 360), 2, random (0, 360))
		TNT1 AAA 0 A_CustomMissile ("XDeath2b", 60, 0, random (0, 360), 2, random (0, 360))
		TNT1 AAA 0 A_CustomMissile ("XDeath3b", 60, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 0 A_SpawnItem("MuchBlood2", 0, 50)
		TNT1 A 0 A_CustomMissile ("neutralblood", 25, 0, random (0, 360), 2, random (30, 150))
		TNT1 AAAAA 0 A_CustomMissile ("RevenantBonesFast", 57, 0, random (0, 360), 2, random (30, 150))
		TNT1 AAAAA 0 A_CustomMissile ("RevenantPiece", 57, 0, random (0, 360), 2, random (30, 150))
		TNT1 A 0 A_NoBlocking
		TNT1 A 0 A_Scream
        Stop	
	}
}



ACTOR BuffBDMummy : BDMummy
{
Translation "48:79 = 99:111", "160:167=236:239", "128:151=104:111", "16:47=189:191"
Health 600
Tag "Tough Mummy"
}

ACTOR Experiment: BDMummy
{
	Health 150
	Height 48
	Scale 0.7
	Mass 500
	Speed 17
	FastSpeed 18
	PainChance 100
	Monster
	MeleeThreshold 196
	+MISSILEMORE 
	+FLOORCLIP
	SeeSound "MUMYSEE"
	PainSound "skeleton/pain"
	DeathSound "MUMYDIE"
	ActiveSound "MUMYACT"
	MeleeSound "skeleton/melee"
	Tag "Experiment"
	HitObituary "$OB_UNDEADHIT"
	Obituary "$OB_UNDEAD"
	States
	{
	Spawn:
		ZKEL B 11 A_Look
		Loop
	See:
		ZKEL AABBCCDDEEFF 2 A_Chase
		Loop
	Melee:
		ZKEL G 1 A_FaceTarget
		TNT1 A 0 A_Recoil(-5)
		ZKEL G 6 A_SkelWhoosh
		ZKEL H 6 A_FaceTarget
		ZKEL I 6 A_SkelFist
		Goto See
	Pain:
		ZKEL L 5
		ZKEL L 5 A_Pain
		Goto See
	
	Death:
		ZKEL LM 7
		ZKEL N 7 A_Scream
		ZKEL O 7 A_NoBlocking
		ZKEL P 7
		TNT1 A 0 A_CustomMissile ("neutralblood", 25, 0, random (0, 360), 2, random (30, 150))
		ZKEL Q -1
		Stop
		
	Death.Fire:
	Death.Burn:
	Death.PLasma:
	Death.GreenFire:
		SKEL LM 4
		SKEL N 4 A_Scream
		SKEL O 4 A_NoBlocking
		SKEL P 1
		TNT1 A 0 A_Playsound("props/redfire")
		CARB NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN 2 A_CustomMissile ("FlameTrails", 25, 0, random (0, 360), 2, random (70, 130))
        CARB NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN 10 A_CustomMissile ("PlasmaSmoke", 25, 0, random (0, 360), 2, random (70, 130))
        CARB N -1
        Stop

	XDeath:
	Death.ExplosiveImpact:
		TNT1 AAAAA 0 A_CustomMissile ("RevenantDust", 60, 0, random (0, 360), 2, random (0, 360))
		TNT1 AAAAAA 0 A_CustomMissile ("RevenantDust2", 60, 0, random (0, 360), 2, random (0, 360))
        TNT1 A 0 A_CustomMissile ("XDeathRevenantHead", 52, 0, random (0, 360), 2, random (0, 160))
		TNT1 AAA 0 A_CustomMissile ("XDeath1", 67, 0, random (0, 360), 2, random (30, 150))
		TNT1 AAA 0 A_CustomMissile ("XDeath1", 60, 0, random (0, 360), 2, random (0, 360))
		TNT1 AAA 0 A_CustomMissile ("XDeath2b", 60, 0, random (0, 360), 2, random (0, 360))
		TNT1 AAA 0 A_CustomMissile ("XDeath3b", 60, 0, random (0, 360), 2, random (0, 360))
		TNT1 A 0 A_SpawnItem("MuchBlood2", 0, 50)
		TNT1 A 0 A_CustomMissile ("neutralblood", 25, 0, random (0, 360), 2, random (30, 150))
		TNT1 AAAAA 0 A_CustomMissile ("RevenantBonesFast", 57, 0, random (0, 360), 2, random (30, 150))
		TNT1 AAAAA 0 A_CustomMissile ("RevenantPiece", 57, 0, random (0, 360), 2, random (30, 150))
		TNT1 A 0 A_NoBlocking
		TNT1 A 0 A_Scream
        Stop	
	}
}
