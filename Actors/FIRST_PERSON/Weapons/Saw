Actor Chain_saw : BrutalWeapon
{
	Weapon.AmmoUse1 0
	Weapon.AmmoGive1 0
	Weapon.AmmoType1 "GASAMMO"
	Weapon.AmmoType2 "SAWFUEL"	  					   
	weapon.selectionorder 240
	Weapon.UpSound "none"
	weapon.readysound "weapons/chainsaw/idle"
	+WEAPON.ALT_USES_BOTH					  
    +WEAPON.NOAUTOAIM
	+WEAPON.AXEBLOOD
	+FORCEXYBILLBOARD
	Weapon.KickBack 0
	Tag "Chainsaw"
states
	{
		
	Spawn:
		CSAW A 1
		CSAW A -1
		Stop	

	Select: 
		TNT1 A 0  A_Overlay(-10,"FirstPersonLegsStand")
		SAWG A 0 
		TNT1 A 0 a_removelight(1)
		TNT1 A 0 A_removelight(2)
		TNT1 A 0 SetPlayerProperty(0,0,2)
		SAWG A 0 A_Giveinventory("GoSpecial",1)
		TNT1 A 0 ACS_NAMEDEXECUTE("WEAPONSELECT",0)
		KICK A 0 A_Takeinventory("PowerBloodOnVisor",1)
		KICK A 0 A_Takeinventory("PowerBlueBloodOnVisor",1)
		KICK A 0 A_Takeinventory("PowerGreenBloodOnVisor",1)
		SAWG A 0 A_Giveinventory("HasCutingWeapon",1)
		TNT1 A 0 A_SetRoll(0)
		TNT1 AAAAAA 1 A_RAise
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,"SelectAnimation")
		Goto NoFuel
		
	SelectAnimation:
		TNT1 A 0 A_JumpIfInventory("PowerBloodOnVisor", 1, "SelectAnimationRed")
		TNT1 A 0 A_JumpIfInventory("PowerblueBloodOnVisor", 1, "SelectAnimationblue")
		TNT1 A 0 A_JumpIfInventory("PowergreenBloodOnVisor", 1, "SelectAnimationgreen")
		SAWY ABCDE 1 A_JumpIfInventory("GoFatality", 1, "Steady")
			
	Waiting:
		SAWG A 0 A_giveinventory("chainsawoff",1)
		SAWG A 0 A_JumpIfInventory("IsRunning",1,"CheckSprint")
		SAWG A 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
        SAWG A 0 A_JumpIfInventory("Taunting",1,"Taunt")
		SAWG A 0 A_JumpIfInventory("Salute1", 1, "Salute")
		SAWG A 0 A_JumpIfInventory("Salute2", 1, "Salute")
		SAWG A 0 A_JumpIfInventory("weargasmask", 1, "goingtoaction")
		SAWG A 0 A_JumpIfInventory("removegasmask", 1, "goingtoaction")
		SAWG A 0 A_JumpIfInventory("battledrugtoken",1,"goingtoaction")
		SAWG A 0 A_JumpIfInventory("BANDAGETOKEN",1,"goingtoaction")
		SAWG A 0 A_JumpIfInventory("REPAIRTOKEN",1,"goingtoaction")
		SAWG A 0 A_Jumpifinventory("throwtoken",1, "Quickthrow")
		SAWG AB 0 A_Jumpifinventory("slashtoken",1, "Quickslash")
		AXEG A 0 A_JumpIfInventory("flaretoken",1,"TossFlare")
		PIST F 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "User4")
		SAW2 A 0 A_JumpIfInventory("StartDualWield",1,"REVUP")
		GLAF A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ATTACK, "REVUP")
		GLAF A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ALTATTACK, "REVUP")
		
		 SAWG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"waiting.red")
        SAWG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"waiting.blue")
        SAWG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"waiting.Green")
		
		SAWG A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USE, "USEATTACK")
		SAWG A 1 a_weaponready(WRF_NOFIRE | WRF_ALLOWRELOAD)
		LOOP
	Waiting.Red:
		SAW2 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USE, "USEATTACK")
		SAW2 A 1 a_weaponready(WRF_NOFIRE | WRF_ALLOWRELOAD)
		goto waiting	
	Waiting.Blue:
		SAW4 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USE, "USEATTACK")
		SAW4 A 1 a_weaponready(WRF_NOFIRE | WRF_ALLOWRELOAD)
		goto waiting
	Waiting.Green:
		SAW3 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USE, "USEATTACK")
		SAW3 A 1 a_weaponready(WRF_NOFIRE | WRF_ALLOWRELOAD)
		goto waiting
	
			
	REVUP:	
		SAWG A 0 A_takeinventory("chainsawoff",1)
		SAWG A 0 A_TakeInventory("startdualwield", 1)
		SAWG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"selectanimationred")
        SAWG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"selectanimationblue")
        SAWG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"selectanimationGreen")
		SAWG A 0 A_PlaySound("DSSAWZIP", 1)
        SAWS ABCDEFEDCB 1 a_weaponready(WRF_NOFIRE)
		SAWS A 3 A_playsound("weapons/chainsaw/draw", 3)
		SAWS GH 1
		GOTO Ready3
		
	SelectAnimationRED:
		SSWS AAA 10 A_JumpIfInventory("GoFatality", 1, "Steady")
		SSWS A 5 a_weaponready(WRF_NOFIRE)
		TNT1 A 0 A_StopSoundEX("item")
		SAWG A 0 A_PlaySound("DSSAWZIP", 1)
        SSWS ABCDEFEDCB 1 a_weaponready(WRF_NOFIRE)
		SSWS A 3 A_playsound("weapons/chainsaw/draw", 3)
		SSWS GH 1
		Goto Ready3
		
	SelectAnimationBLUE:
		SSWB AAA 5 A_JumpIfInventory("GoFatality", 1, "Steady")
		SSWB A 5 a_weaponready(WRF_NOFIRE)
		TNT1 A 0 A_StopSoundEX("item")	
		SAWG A 0 A_PlaySound("DSSAWZIP", 1)
        SSWB ABCDEFEDCB 1 a_weaponready(WRF_NOFIRE)
		SSWB A 3 A_playsound("weapons/chainsaw/draw", 3)
		SSWB GH 1
		Goto Ready3
	
	SelectAnimationGREEN:
		SSWG AAA 5 A_JumpIfInventory("GoFatality", 1, "Steady")
		SSWG A 5 a_weaponready(WRF_NOFIRE)
		TNT1 A 0 A_StopSoundEX("item")	
		SAWG A 0 A_PlaySound("DSSAWZIP", 1)
        SSWG ABCDEFEDCB 1 a_weaponready(WRF_NOFIRE)
		SSWG A 3 A_playsound("weapons/chainsaw/draw", 3)
		Goto REady
	Deselect:
	    SAWG A 0 
		SAWG A 0 A_StopSound(6)
		SAWG A 0 A_TakeInventory("startdualwield", 1)
		AXEG A 0 A_Takeinventory("PowerBloodOnVisor",1)
		AXEG A 0 A_Takeinventory("PowerBlueBloodOnVisor",1)
		AXEG A 0 A_Takeinventory("PowerGreenBloodOnVisor",1)
		SAWG A 0 A_Takeinventory("HasCutingWeapon",1)
		SAWG A 0 A_StopsoundEx("Weapon")
		SAWY EDCBA 1
		SAWG A 0 A_Lower
		SAWN AAAAA 0 A_Lower
		wait

    Steady:
	TNT1 A 1
	Goto Ready
	
	
	Ready:
	Ready3:
	ReadyToFire:
		TNT1 A 0 A_JumpIfInventory("ExecuteDownedEnemy", 1, "DoExecution")
		TNT1 A 0 A_JumpIfInventory("chainsawoff", 1, "waiting")
		SAWG A 0 A_alertmonsters
		SAWG A 0 A_StopSound(4)
		SAWG A 0 A_StopSound(1)
		SAW2 A 0 A_JumpIfInventory("StartDualWield",1,"SpecialAction")
		SAWG A 0 A_Giveinventory("HasCutingWeapon",1)
		SAWG A 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
		SAWG A 0 A_FireCustomMissile("SmokeSpawner",0,0,0,5)
        SAW2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,4)
        SAW4 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
        SAW3 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,2)
		SAWG A 0
		"####" "#" 0
		"####" "#" 0 A_playsoundex("weapons/chainsaw/idle", 6)
		"####" ABAB 2 A_WeaponReadyLit
		SAWG A 0 A_StopSoundEX("item")
		Goto CheckFuel
	CheckFuel:
		SAWG A 0
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,"ReadytoFire")
		Goto NoFuel
	
	NoFuel:
		SAWG A 0
		goto waiting
	
	YesFuel:
		SAWG AAAA 10
		Goto SelectAnimation
		
	Ready.Blood:
		SAWG A 0
		SAWG A 0 A_alertmonsters
		SAWG A 0 A_TakeInventory("PowerBlueBloodOnVisor", 1)
		SAWG A 0 A_TakeInventory("PowerGreenBloodOnVisor", 1)
		SAWG A 0 A_StopSound(4)
		SAWG A 0 A_StopSound(1)
		PIST F 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "UNLOAD")
		SAW2 A 0 A_JumpIfInventory("StartDualWield",1,"Clean")
		SAW2 ABAB 2 A_weaponready(WRF_allowreload)
		SAWG A 0 A_FireCustomMissile("SmokeSpawner",0,0,0,5)
		SAWG A 0 A_playsoundex("weapons/chainsaw/idle", 6)
		SAWG A 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
        SAWG A 0 A_JumpIfInventory("Taunting",1,"Taunt")
		SAWG A 0 A_JumpIfInventory("Salute1", 1, "Salute")
		SAWG A 0 A_JumpIfInventory("Salute2", 1, "Salute")
		TNT1 A 0 A_JumpIfInventory("REPAIRTOKEN",1,"goingtoaction")
		TNT1 A 0 A_JumpIfInventory("weargasmask", 1, "goingtoaction")
		TNT1 A 0 A_JumpIfInventory("removegasmask", 1, "goingtoaction")
		TNT1 A 0 A_JumpIfInventory("battledrugtoken",1,"goingtoaction")
		TNT1 A 0 A_JumpIfInventory("BANDAGETOKEN",1,"goingtoaction")
		TNT1 A 0 A_Jumpifinventory("throwtoken",1, "Quickthrow")
		SSW2 CD 0 A_Jumpifinventory("slashtoken",1, "Quickslash")
		AXEG A 0 A_JumpIfInventory("flaretoken",1,"TossFlare")
		SSW2 CD 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER3, "TOSSGRENADE")
		SAWG A 0 A_JumpIfInventory("IsRunning",1,"CheckSprint.Blood")
		PIST F 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "UNLOAD")
		SSW2 CDEF 2 A_weaponready(WRF_allowreload)
		SAWG A 0 A_playsoundex("weapons/chainsaw/idle", 6)
		SAWG A 0 A_FireCustomMissile("SmokeSpawner",0,0,0,5)
		SAWG A 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
        SAWG A 0 A_JumpIfInventory("Taunting",1,"Taunt")
		SAWG A 0 A_JumpIfInventory("Salute1", 1, "Salute")
		SAWG A 0 A_JumpIfInventory("Salute2", 1, "Salute")
		TNT1 A 0 A_JumpIfInventory("weargasmask", 1, "goingtoaction")
		TNT1 A 0 A_JumpIfInventory("removegasmask", 1, "goingtoaction")
		TNT1 A 0 A_JumpIfInventory("battledrugtoken",1,"goingtoaction")
		TNT1 A 0 A_JumpIfInventory("BANDAGETOKEN",1,"goingtoaction")
		TNT1 A 0 A_Jumpifinventory("throwtoken",1, "Quickthrow")
		SSW2 CD 0 A_Jumpifinventory("slashtoken",1, "Quickslash")
		AXEG A 0 A_JumpIfInventory("flaretoken",1,"TossFlare")
		SSW2 CD 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER3, "TOSSGRENADE")
		SAWG A 0 A_JumpIfInventory("IsRunning",1,"CheckSprint.Blood")
		PIST F 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "UNLOAD")
		SSW2 GHIJ 2 A_weaponready(WRF_allowreload)
		SAWG A 0 A_JumpIfInventory("IsRunning",1,"CheckSprint.Blood")
		SAWG A 0 A_playsoundex("weapons/chainsaw/idle", 6)
		TNT1 A 0 A_JumpIfInventory("SAWFUEL",1,"readytofire")
		Goto CheckFuelRed

	Ready.BlueBlood:
		SAWG A 0
		SAWG A 0 A_alertmonsters
		SAWG A 0 A_TakeInventory("PowerBloodOnVisor", 1)
		SAWG A 0 A_TakeInventory("PowerGreenBloodOnVisor", 1)
		SAWG A 0 A_StopSound(4)
		SAWG A 0 A_StopSound(1)
		PIST F 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "UNLOAD")
		SAW4 A 0 A_JumpIfInventory("StartDualWield",1,"Clean")
		SAW4 ABAB 2 A_weaponready(WRF_allowreload)
		SAWG A 0 A_JumpIfInventory("IsRunning",1,"CheckSprint.BlueBlood")
		SAWG A 0 A_FireCustomMissile("SmokeSpawner",0,0,0,5)
		SAWG A 0 A_playsoundex("weapons/chainsaw/idle", 6)
		SAWG A 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
		TNT1 A 0 A_JumpIfInventory("REPAIRTOKEN",1,"goingtoaction")
        SAWG A 0 A_JumpIfInventory("Taunting",1,"Taunt")
		SAWG A 0 A_JumpIfInventory("Salute1", 1, "Salute")
		SAWG A 0 A_JumpIfInventory("Salute2", 1, "Salute")
		TNT1 A 0 A_JumpIfInventory("weargasmask", 1, "goingtoaction")
		TNT1 A 0 A_JumpIfInventory("removegasmask", 1, "goingtoaction")
		TNT1 A 0 A_JumpIfInventory("battledrugtoken",1,"goingtoaction")
		TNT1 A 0 A_JumpIfInventory("BANDAGETOKEN",1,"goingtoaction")
		TNT1 A 0 A_Jumpifinventory("throwtoken",1, "Quickthrow")
		SSW4 CD 0 A_Jumpifinventory("slashtoken",1, "Quickslash")
		AXEG A 0 A_JumpIfInventory("flaretoken",1,"TossFlare")
		SSW4 CD 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER3, "TOSSGRENADE")
		PIST F 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "UNLOAD")
		SSW4 CDEF 2 A_weaponready(WRF_allowreload)
		SAWG A 0 A_playsoundex("weapons/chainsaw/idle", 6)
		SAWG A 0 A_JumpIfInventory("IsRunning",1,"CheckSprint.BlueBlood")
		SAWG A 0 A_FireCustomMissile("SmokeSpawner",0,0,0,5)
		SAWG A 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
        SAWG A 0 A_JumpIfInventory("Taunting",1,"Taunt")
		SAWG A 0 A_JumpIfInventory("Salute1", 1, "Salute")
		SAWG A 0 A_JumpIfInventory("Salute2", 1, "Salute")
		TNT1 A 0 A_JumpIfInventory("battledrugtoken",1,"goingtoaction")
		TNT1 A 0 A_JumpIfInventory("BANDAGETOKEN",1,"goingtoaction")
		TNT1 A 0 A_Jumpifinventory("throwtoken",1, "Quickthrow")
		SSW4 CD 0 A_Jumpifinventory("slashtoken",1, "Quickslash")
		AXEG A 0 A_JumpIfInventory("flaretoken",1,"TossFlare")
		SSW4 CD 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER3, "TOSSGRENADE")
		PIST F 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "UNLOAD")
		SSW4 GHIJ 2 A_weaponready(WRF_allowreload)
		SAWG A 0 A_JumpIfInventory("IsRunning",1,"CheckSprint.BlueBlood")
		SAWG A 0 A_playsoundex("weapons/chainsaw/idle", 6)
		TNT1 A 0 A_JumpIfInventory("SAWFUEL",1,"readytofire")
		Goto CheckFuelBlue		
	
	Ready.GreenBlood:
		SAWG A 0
		SAWG A 0 A_alertmonsters	
		SAWG A 0 A_TakeInventory("PowerBlueBloodOnVisor", 1)
		SAWG A 0 A_TakeInventory("PowerBloodOnVisor", 1)
		SAWG A 0 A_StopSound(4)
		SAWG A 0 A_StopSound(1)
		PIST F 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "UNLOAD")
		SAW3 A 0 A_JumpIfInventory("StartDualWield",1,"Clean")
		SAWG A 0 A_JumpIfInventory("IsRunning",1,"CheckSprint.GreenBlood")
		SAW3 ABAB 2 A_weaponready(WRF_allowreload)
		SAWG A 0 A_FireCustomMissile("SmokeSpawner",0,0,0,5)
		SAWG A 0 A_playsoundex("weapons/chainsaw/idle", 6)
		SAWG A 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
        SAWG A 0 A_JumpIfInventory("Taunting",1,"Taunt")
		SAWG A 0 A_JumpIfInventory("Salute1", 1, "Salute")
		SAWG A 0 A_JumpIfInventory("Salute2", 1, "Salute")
		TNT1 A 0 A_JumpIfInventory("REPAIRTOKEN",1,"goingtoaction")
		TNT1 A 0 A_JumpIfInventory("battledrugtoken",1,"goingtoaction")
		TNT1 A 0 A_JumpIfInventory("BANDAGETOKEN",1,"goingtoaction")
		TNT1 A 0 A_Jumpifinventory("throwtoken",1, "Quickthrow")
		SAW3 AB 0 A_Jumpifinventory("slashtoken",1, "Quickslash")
		AXEG A 0 A_JumpIfInventory("flaretoken",1,"TossFlare")
		SAW3 AB 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER3, "TOSSGRENADE")
		PIST F 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "UNLOAD")
		SSW3 CDEF 2 A_weaponready(WRF_allowreload)
		SAWG A 0 A_playsoundex("weapons/chainsaw/idle", 6)
		SAWG A 0 A_JumpIfInventory("IsRunning",1,"CheckSprint.GreenBlood")
		SAWG A 0 A_FireCustomMissile("SmokeSpawner",0,0,0,5)
		SAWG A 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
        SAWG A 0 A_JumpIfInventory("Taunting",1,"Taunt")
		SAWG A 0 A_JumpIfInventory("Salute1", 1, "Salute")
		SAWG A 0 A_JumpIfInventory("Salute2", 1, "Salute")
		TNT1 A 0 A_JumpIfInventory("battledrugtoken",1,"goingtoaction")
		TNT1 A 0 A_JumpIfInventory("BANDAGETOKEN",1,"goingtoaction")
		TNT1 A 0 A_Jumpifinventory("throwtoken",1, "Quickthrow")
		SAW3 AB 0 A_Jumpifinventory("slashtoken",1, "Quickslash")
		AXEG A 0 A_JumpIfInventory("flaretoken",1,"TossFlare")
		SAW3 AB 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER3, "TOSSGRENADE")
		PIST F 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "UNLOAD")
		SSW3 GHIJ 2 A_weaponready(WRF_allowreload)
		SAWG A 0 A_playsoundex("weapons/chainsaw/idle", 6)
		SAWG A 0 A_JumpIfInventory("IsRunning",1,"CheckSprint.GreenBlood")
		TNT1 A 0 A_JumpIfInventory("SAWFUEL",1,"readytofire")
		Goto CheckFuelGreen

	SpecialAction:
        SAW2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"Clean")
        SAW4 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"Clean")
        SAW3 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"Clean")
		SAWG A 0 A_JumpIf(countInv("chainsawoff") == 0, 2)
		SAWG A 0 A_TakeInventory("startdualwield", 1)
		goto Ready
	TurnOff:
		"####" "#" 1 A_TakeInventory("startdualwield", 1)
		"####" "#" 1 offset(0,33)
		"####" "#" 1 offset(0,35)
		"####" "#" 1 offset(0,37)
		"####" "#" 1 offset(0,38)
		"####" "#" 1 offset(0,40)
		"####" "#" 1 offset(0,42)
		"####" "#" 1 offset(0,44)
		"####" "#" 0 A_StopSound(6)
		"####" "#" 1 offset(0,44)
		"####" "#" 1 offset(0,42)
		"####" "#" 1 offset(0,40)
		"####" "#" 1 offset(0,38)
		"####" "#" 1 offset(0,37)
		"####" "#" 1 offset(0,35)
		"####" "#" 1 offset(0,32)
		goto waiting
	Clean:
		"####" "#" 1 A_TakeInventory("startdualwield", 1)
		"####" "#" 1 offset(0,40)
		"####" "#" 1 offset(0,50)
		"####" "#" 1 offset(0,60)
		"####" "#" 1 offset(0,70)
		"####" "#" 1 offset(0,80)
		"####" "#" 1 offset(0,90)
		"####" "#" 1 offset(0,100)
		"####" "#" 1 A_StopSound(6)
		"####" "#" 1 A_Takeinventory("PowerBloodOnVisor",1)
		"####" "#" 1 A_Takeinventory("PowerBlueBloodOnVisor",1)
		"####" "#" 1 A_Takeinventory("PowerGreenBloodOnVisor",1)
		TNT1 A 15 
		goto Select
	
	
		
	Fire:
		SAWG A 0
		SAWG A 0
		SAWG A 0 A_StopSound(6)
		SAWG A 0 A_TakeInventory("ChainsawHitRed", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitBlue", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitGreen", 1)
		SAWG A 0 A_Giveinventory("HasCutingWeapon",1)
		SAWG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"FireRed")
		SAWG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FireGreen")
		SAWG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"FireBlue")
		SAWG A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)


		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto NoFuel
		CSA1 ABCD 1
		//TNT1 A 3
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		CSA1 EFG 1
		TNT1 AAA 0 A_Saw("", "", 7, "SSawPuff2", 0, 80, 32,0)
		CSA1 H 1 A_FireCustomMissile("SawDamageHorizontal2", 0, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "FireContinueGreen")
		CSA1 J 1 A_FireCustomMissile("SawDamageHorizontal2", 0, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "FireContinueGreen")
		CSA1 K 1 A_FireCustomMissile("SawDamageHorizontal", 0, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "FireContinueGreen")
		CSA1 L 1 A_FireCustomMissile("SawDamageHorizontal2", 0, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "FireContinueGreen")
		TNT1 A 5
		
		CSA1 MNO 1
		SAWG A 0 A_ReFire
		goto readytofire
		
	AltFire:
		SAWG A 0
		SAWG A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		SAWG A 0 A_TakeInventory("ChainsawHitRed", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitBlue", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitGreen", 1)
		SAWG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"AltFire2Red")
		SAWG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"AltFire2Green")
		SAWG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"AltFire2Blue")
		
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto NoFuel
		CSA2 ABCDDEEEF 1
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		CSA2 GHI 1 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		TNT1 AAA 0 A_Saw("", "", 7, "SSawPuff2", 0, 80, 0,16)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		TNT1 AAAA 0 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, random(-10,10))
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSA2 J 1
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		CSA2 M 1 
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)	
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		CSA2 N 1 
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)	
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		CSA2 O 1 
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)		
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		TNT1 A 5
		CSA2 PQ 1
		goto readytofire
		
	AltContinue2:
		CSA2 JKL 1 A_FireCustomMissile("SawDamageHorizontal", 0, 0, 0, 0)
		SAWG A 0 A_PlaySound("weapons/chainsaw/loop", 4)
		SAWG A 0 A_JumpIfCloser(119, "AltContinue2")
		CSA2 MNO 1
		TNT1 A 5
		CSA2 PQ 1
		goto readytofire	
		
		
	FireRed:	
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto NoFuelred
		SAWG A 0
		SAWG A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		CSR1 ABCD 1
		TNT1 A 3
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		CSR1 EFG 1
		
		TNT1 AAAA 0 A_Saw("", "", 7, "SSawPuff2", 0, 80, 32,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSR1 H 1 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		
		SAWG A 0 A_PlaySound("weapons/chainsaw/loop", 4)	
		CSR1 I 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 32,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		CSR1 J 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 1,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "FireContinueGreen")
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		CSR1 K 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 32,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		
		
		
		CSR1 L 1
		TNT1 A 5
		CSR1 MNO 1
		SAWG A 0 A_ReFire
		SAWG A 0 A_StopSound(1)
		goto readytofire
		
	FireContinueRed:
		TNT1 A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto nofuelred										   				
		SAWG A 0
		SAWG A 0 A_TakeInventory("ChainsawHitRed", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitBlue", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitGreen", 1)
		NULL A 0 ACS_Execute(580, 0, 0, 0, 0)
		
		SAWG A 0 A_PlaySound("weapons/chainsaw/loop", 4)	
		CSR1 RSTU 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 1,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		
		CSR1 IJ 1
		CSR1 KLM 2
		TNT1 A 5
		CSR1 MNO 2
		SAWG A 0 A_ReFire
		SAWG A 0 A_StopSound(4)
		goto Ready.Blood	
		
	
	
	
	
	
	
	AltFire2Red:
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto NoFuelred
		SAWG A 0
		CSR2 ABCDDEEEF 1
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		CSR2 GHI 1 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		TNT1 AAA 0 A_Saw("", "", 10, "SSawPuff", 0, 80, 0,16)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSR2 J 1
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		CSR2 MNO 1 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		TNT1 A 5
		CSR2 PQ 1
		goto readytofire
	
	AltContinue2Red:
		TNT1 A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto nofuelred										   			
		SAWG A 0
		SAWG A 0 A_TakeInventory("ChainsawHitRed", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitBlue", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitGreen", 1)
		CSR2 JK 1 A_Saw("", "", 10, "SSawPuff", 0, 80, 0,16)
		CSR2 L 1 A_Saw("", "", 10, "SSawPuff", 0, 80, 0,16)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)									
		NULL A 0 ACS_Execute(580, 0, 0, 0, 0)
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		CSR2 MNO 1 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		TNT1 A 5 
		CSR2 PQ 1
		goto Ready.Blood
		
	CheckFuelRed:
		SAWG A 0
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,"ReadytoFire")
		Goto NoFuelRed
	
	NoFuelRed:
		SAW2 A 0
		SAW2 A 0 A_JumpIfInventory("SAWFUEL",1,"YesFuelred")
		SAW2 AAAA 10 A_weaponready(WRF_NOFIRE | WRF_allowreload)
		loop
		
	YesFuelred:
		SSWS AAAA 10
		Goto SelectAnimationred			
	FireBlue:
		SAWG A 0
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto NoFuelblue
		SAWG A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		CSB1 ABCD 1
		TNT1 A 3
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		CSB1 EFG 1
		
		TNT1 AAAA 0 A_Saw("", "", 7, "SSawPuff2", 0, 80, 32,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSB1 H 1 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		
		SAWG A 0 A_PlaySound("weapons/chainsaw/loop", 4)	
		CSB1 I 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 32,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		CSB1 J 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 1,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "FireContinueGreen")
		CSB1 K 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 32,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		
		CSB1 L 1
		TNT1 A 5
		CSB1 MNO 1
		SAWG A 0 A_ReFire
		SAWG A 0 A_StopSound(1)
		goto readytofire
		
	FireContinueBlue:
		TNT1 A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto nofuelblue										   				 
		SAWG A 0
		SAWG A 0 A_TakeInventory("ChainsawHitRed", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitBlue", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitGreen", 1)
		NULL A 0 ACS_Execute(583, 0, 0, 0, 0)
		
		SAWG A 0 A_PlaySound("weapons/chainsaw/loop", 4)	
		CSB1 RSTU 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 1,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		
		
		CSB1 IJKLM 2
		TNT1 A 5
		CSB2 MNO 1
		SAWG A 0 A_ReFire
		SAWG A 0 A_StopSound(4)
		goto Ready.BlueBlood
	
	AltFire2Blue:
		SAWG A 0
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto NoFuelblue
		CSB2 ABCDDEEEF 1
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		CSB2 GHI 1 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		TNT1 AAA 0 A_Saw("", "", 7, "SSawPuff2", 0, 80, 0,16)
		TNT1 AAAA 0 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, random(-10,10))
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSB2 J 1
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		CSB2 MNO 1 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "AltContinue2Red")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		TNT1 A 5
		CSB2 PQ 1
		goto readytofire
	
	AltContinue2Blue:
		TNT1 A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto nofuelblue										   			 
		SAWG A 0
		SAWG A 0 A_TakeInventory("ChainsawHitRed", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitBlue", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitGreen", 1)
		CSB2 J 1 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, 0)
		CSB2 K 1
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)	
		CSB2 J 1 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, 0)
		CSB2 K 1
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		CSB2 M 1 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		SAWG A 0 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, 0)
		CSB2 N 1 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		SAWG A 0 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, 0)
		CSB2 O 1 A_JumpIfInventory("ChainsawHitBlue", 1, "AltContinue2Blue")
		SAWG A 0 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, 0)
		TNT1 A 5 
		CSB2 PQ 1
		goto Ready.BlueBlood
		
		
	CheckFuelBlue:
		SAW4 A 0
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,"Ready.BlueBlood")
		Goto NoFuelBlue
	
	NoFuelBlue:
		SAW4 A 0
		SAW4 A 0 A_JumpIfInventory("SAWFUEL",1,"YesFuelblue")
		SAW4 AAAA 10 A_weaponready(WRF_NOFIRE | WRF_allowreload)
		loop
	
	YesFuelblue:
		SSWB AAAA 10
		Goto SelectAnimationBlue			   
		
		
   Firegreen:
		SAWG A 0
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto NoFuelgreen
		SAWG A 0 A_PlaySoundEx("weapons/chainsaw/loop","Weapon",0)
		CSG1 ABCD 1
		TNT1 A 3
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		CSG1 EFG 1
		
		TNT1 AAAA 0 A_Saw("", "", 7, "SSawPuff2", 0, 80, 32,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSG1 H 1 A_JumpIfInventory("ChainsawHitgreen", 1, "FireContinuegreen")
		
		SAWG A 0 A_PlaySound("weapons/chainsaw/loop", 4)	
		CSG1 I 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 32,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		CSG1 J 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 1,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitRed", 1, "FireContinueRed")
		SAWG A 0 A_JumpIfInventory("ChainsawHitBlue", 1, "FireContinueBlue")
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "FireContinueGreen")
		CSG1 K 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 32,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitgreen", 1, "FireContinuegreen")
		
		CSG1 L 1
		TNT1 A 5
		CSG1 MNO 1
		SAWG A 0 A_ReFire
		SAWG A 0 A_StopSound(1)
		goto readytofire
		
	FireContinuegreen:										   
		TNT1 A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto nofuelgreen				  
		SAWG A 0
		SAWG A 0 A_TakeInventory("ChainsawHitRed", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitBlue", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitGreen", 1)
		NULL A 0 ACS_Execute(582, 0, 0, 0, 0)
		
		SAWG A 0 A_PlaySound("weapons/chainsaw/loop", 4)	
		CSG1 RSTU 1 A_Saw("", "", 7, "SSawPuff2", 0, 80, 1,0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		SAWG A 0 A_JumpIfInventory("ChainsawHitgreen", 1, "FireContinuegreen")
		
		
		CSG1 IJKLM 2
		TNT1 A 5
		CSG2 MNO 1
		SAWG A 0 A_ReFire
		SAWG A 0 A_StopSound(4)
		goto Ready.GreenBlood
		
	
	
	
	
	
	
	AltFire2Green:
		SAWG A 0
		SAWG A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto NoFuelgreen
		CSG2 ABCDDEEEF 1
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		CSG2 GHI 1 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		TNT1 AAA 0 A_Saw("", "", 7, "SSawPuff2", 0, 80, 0,16)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		TNT1 AAAA 0 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, random(-10,10))
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSG2 J 1
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		CSG2 MNO 1 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		TNT1 A 5
		CSG2 PQ 1
		goto readytofire
	
	AltContinue2Green:
		TNT1 A 0 A_JumpIfInventory("SAWFUEL",1,1)
		Goto nofuelgreen										   			  
		SAWG A 0
		SAWG A 0 A_TakeInventory("ChainsawHitRed", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitBlue", 1)
		SAWG A 0 A_TakeInventory("ChainsawHitGreen", 1)
		CSG2 J 1 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSG2 K 1
		CSG2 J 1 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSG2 K 1
		SAWG A 0 A_PlaySound("weapons/chainsaw/draw", 4)
		SAWG A 0 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		SAWG A 0 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSG2 M 1 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		SAWG A 0 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSG2 N 1 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		SAWG A 0 A_FireCustomMissile("SawDamageVertical", 0, 0, 0, 0)
		TNT1 A 0 A_TakeInventory("SAWFUEL", 1)										
		CSG2 O 1 A_JumpIfInventory("ChainsawHitGreen", 1, "AltContinue2Green")
		TNT1 A 5 
		CSG2 PQ 1
		goto Ready.GreenBlood		
		
	CheckFuelGreen:
		SAW3 A 0
		SAW3 A 0 A_JumpIfInventory("SAWFUEL",1,"Ready.GreenBlood")
		Goto NoFuelGreen
	
	NoFuelGreen:
		SAW3 A 0
		SAW3 A 0 A_JumpIfInventory("SAWFUEL",1,"YesFuelGreen")
		SAW3 AAAA 10 A_weaponready(WRF_NOFIRE | WRF_allowreload)
		loop
		
	YesFuelgreen:
		SSWG AAAA 10
		Goto SelectAnimationgreen					
		
	CheckSprint:
		SAWG A 0 A_JumpIfInventory("PowerBloodOnVisor", 1, "CheckSprint.Blood")
		SAWG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor", 1, "CheckSprint.BlueBlood")
		SAWG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor", 1, "CheckSprint.GreenBlood")
		SAWG A 1 A_WeaponReady(WRF_NOFIRE)
		SAWG A 0 A_JumpIfInventory("IsStandingStill", 1, "waiting")
		SAWG A 0 A_JumpIfInventory("IsTacticalClass", 1, "StartSprint")
		Goto waiting
	
	CheckSprint.Blood:
		//CSR2 Q 1 A_WeaponReady(WRF_NOFIRE)
		CSR2 Q 0 A_JumpIfInventory("IsStandingStill", 1, "waiting")
		CSR2 Q 0 A_JumpIfInventory("IsTacticalClass", 1, "StartSprint.Blood")
		Goto waiting
		
	CheckSprint.BlueBlood:
		//CSB2 Q 1 A_WeaponReady(WRF_NOFIRE)
		CSB2 Q 0 A_JumpIfInventory("IsStandingStill", 1, "waiting")
		CSB2 Q 0 A_JumpIfInventory("IsTacticalClass", 1, "StartSprint.BlueBlood")
		Goto waiting
		
	CheckSprint.GreenBlood:
		//CSG2 Q 1 A_WeaponReady(WRF_NOFIRE)
		CSG2 Q 0 A_JumpIfInventory("IsStandingStill", 1, "waiting")
		CSG2 Q 0 A_JumpIfInventory("IsTacticalClass", 1, "StartSprint.GreenBlood")
		Goto waiting
	
	StartSprint:
		TNT1 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_FORWARD, 1)
		GOTO waiting										   
		SAWG A 0 A_Takeinventory("Zoomed",1)
		SAWG A 0 A_Takeinventory("ADSmode",1)
		SAWG A 0 A_ZoomFactor(1.0)
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 70, "Trip")
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 1400, "Trip")
		
	Sprinting:	
		SAW2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,4)
        SAW4 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
        SAW3 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,2)
		SAWG A 0
		"####" "#" 0
		"####" "#" 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_FORWARD, 1)
		GOTO stopsprint
		"####" "#" 0 offset(-9,32) 
		"####" "#" 0 offset(-9,32) A_JumpIfInventory("IsStandingStill", 1, "waiting")
		"####" "#" 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		"####" "#" 0 A_JumpIfInventory("UsedStamina", 100, "StopSprintTired")
		"####" "#" 0 offset(-9,32) A_JumpIfInventory("UsedStamina", 2000, "StopSprintTired")
		"####" "#" 0 offset(-9,32) ACS_ExecuteAlways(852, 0, 0, 0, 0)//Makes player faster.
		"####" "#" 0 offset(-9,32) A_JumpIfInventory("Powerstrength2", 1, 2)
		"####" "#" 0 offset(-9,32) A_GiveInventory("UsedStamina", 6)
		"####" "#" 0 offset(-9,32)
		"####" A 1 offset(-9,34) A_SetPitch(pitch -0.5)
		"####" A 1 offset(-6,36) A_SetPitch(pitch -0.5)
		"####" A 1 offset(-3,38) A_SetPitch(pitch -0.5)
		"####" A 1 offset(0,38) A_SetPitch(pitch -0.5)
		"####" A 1 offset(3,36) A_SetPitch(pitch -0.5)
		"####" A 1 offset(6,34) A_SetPitch(pitch -0.5)
		"####" A 1 offset(9,32) A_SetPitch(pitch -0.5)
		"####" A 0 offset(9,32) 
		"####" A 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
        "####" A 0 A_JumpIfInventory("Taunting",1,"Taunt")
        "####" A 0 A_JumpIfInventory("Reloading",1,"Reload")
		"####" A 0 offset(-9,32) A_GiveInventory("UsedStamina", 6)
		"####" A 0 offset(9,33) A_SpawnItemEx("FootStep", 0, 0, 2, 0, 0, -4)
		"####" A 1 offset(9,34) A_SetPitch(pitch +0.5)
		"####" A 1 offset(6,36) A_SetPitch(pitch +0.5)
		"####" A 1 offset(3,38) A_SetPitch(pitch +0.5)
		"####" A 1 offset(0,38) A_SetPitch(pitch +0.5)
		"####" A 1 offset(-3,36) A_SetPitch(pitch +0.5)
		"####" A 1 offset(-6,34) A_SetPitch(pitch +0.5)
		"####" A 1 offset(-9,32) A_SetPitch(pitch +0.5)
		"####" A 0 offset(-9,32) 
		"####" A 0 offset(-9,32) A_JumpIfInventory("IsRunning", 1, "Sprinting")	
		Goto StopSprint
	
	StartSprint.Blood:
		TNT1 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_FORWARD, 1)
		GOTO READY.blood
		CSR2 Q 1 A_WeaponReady(WRF_NOFIRE)
		CSR2 Q 0 A_Takeinventory("Zoomed",1)
		CSR2 Q 0 A_Takeinventory("ADSmode",1)
		CSR2 Q 0 A_ZoomFactor(1.0)
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 70, "StopSprintTired.blood")
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 1400, "StopSprintTired.blood")
	
	Sprinting.Blood:
		TNT1 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_FORWARD, 1)
		GOTO Stopsprint.blood
		CSR2 Q 0 offset(-9,32) 
		CSR2 Q 0 offset(-9,32) A_JumpIfInventory("IsStandingStill", 1, "waiting")
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 100, "StopSprintTired.Blood")
		CSR2 Q 0 offset(-9,32) A_JumpIfInventory("UsedStamina", 2000, "StopSprintTired.Blood")
		PLAY A 0 offset(-9,32) ACS_ExecuteAlways(852, 0, 0, 0, 0)//Makes player faster.
		CSR2 Q 0 offset(-9,32) A_JumpIfInventory("Powerstrength2", 1, 2)
		CSR2 Q 0 offset(-9,32) A_GiveInventory("UsedStamina", 6)
		CSR2 Q 0 offset(-9,32)
		CSR2 Q 1 offset(-9,34) A_SetPitch(pitch -0.5)
		CSR2 Q 1 offset(-6,36) A_SetPitch(pitch -0.5)
		CSR2 Q 1 offset(-3,38) A_SetPitch(pitch -0.5)
		CSR2 Q 1 offset(0,38) A_SetPitch(pitch -0.5)
		CSR2 Q 1 offset(3,36) A_SetPitch(pitch -0.5)
		CSR2 Q 1 offset(6,34) A_SetPitch(pitch -0.5)
		CSR2 Q 1 offset(9,32) A_SetPitch(pitch -0.5)
		CSR2 Q 0 offset(9,32) 
		CSR2 Q 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
        CSR2 Q 0 A_JumpIfInventory("Taunting",1,"Taunt")
        CSR2 Q 0 A_JumpIfInventory("Reloading",1,"Reload")
		CSR2 Q 0 offset(-9,32) A_GiveInventory("UsedStamina", 6)
		CSR2 Q 0 offset(9,33) A_SpawnItemEx("FootStep", 0, 0, 2, 0, 0, -4)
		CSR2 Q 1 offset(9,34) A_SetPitch(pitch +0.5)
		CSR2 Q 1 offset(6,36) A_SetPitch(pitch +0.5)
		CSR2 Q 1 offset(3,38) A_SetPitch(pitch +0.5)
		CSR2 Q 1 offset(0,38) A_SetPitch(pitch +0.5)
		CSR2 Q 1 offset(-3,36) A_SetPitch(pitch +0.5)
		CSR2 Q 1 offset(-6,34) A_SetPitch(pitch +0.5)
		CSR2 Q 1 offset(-9,32) A_SetPitch(pitch +0.5)
		CSR2 Q 0 offset(-9,32) 
		CSR2 Q 0 offset(-9,32) A_JumpIfInventory("IsRunning", 1, "Sprinting.Blood")
		
		Goto StopSprint.Blood
	
	StartSprint.GreenBlood:
		TNT1 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_FORWARD, 1)
		GOTO READY.greenblood
		CSG2 Q 1 A_WeaponReady(WRF_NOFIRE)
		CSG2 Q 0 A_Takeinventory("Zoomed",1)
		CSG2 Q 0 A_Takeinventory("ADSmode",1)
		CSG2 Q 0 A_ZoomFactor(1.0)
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 70, "StopSprintTired.GreenBlood")
		CSG2 Q 0 A_JumpIfInventory("UsedStamina", 1400, "StopSprintTired.GreenBlood")
	
	Sprinting.GreenBlood:
	TNT1 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_FORWARD, 1)
		GOTO Stopsprint.greenblood
		CSG2 Q 0 offset(-9,32) 
		CSG2 Q 0 offset(-9,32) A_JumpIfInventory("IsStandingStill", 1, "waiting")
			TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 100, "StopSprintTired.Greenblood")
		CSG2 Q 0 offset(-9,32) A_JumpIfInventory("UsedStamina", 2000, "StopSprintTired.GreenBlood")
		PLAY A 0 offset(-9,32) ACS_ExecuteAlways(852, 0, 0, 0, 0)//Makes player faster.
		CSG2 Q 0 offset(-9,32) A_JumpIfInventory("Powerstrength2", 1, 2)
		CSG2 Q 0 offset(-9,32) A_GiveInventory("UsedStamina", 6)
		CSG2 Q 0 offset(-9,32)
		CSG2 Q 1 offset(-9,34) A_SetPitch(pitch -0.5)
		CSG2 Q 1 offset(-6,36) A_SetPitch(pitch -0.5)
		CSG2 Q 1 offset(-3,38) A_SetPitch(pitch -0.5)
		CSG2 Q 1 offset(0,38) A_SetPitch(pitch -0.5)
		CSG2 Q 1 offset(3,36) A_SetPitch(pitch -0.5)
		CSG2 Q 1 offset(6,34) A_SetPitch(pitch -0.5)
		CSG2 Q 1 offset(9,32) A_SetPitch(pitch -0.5)
		CSG2 Q 0 offset(9,32) 
		CSG2 Q 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
        CSG2 Q 0 A_JumpIfInventory("Taunting",1,"Taunt")
        CSG2 Q 0 A_JumpIfInventory("Reloading",1,"Reload")
		CSG2 Q 0 offset(-9,32) A_GiveInventory("UsedStamina", 6)
		CSG2 Q 0 offset(9,33) A_SpawnItemEx("FootStep", 0, 0, 2, 0, 0, -4)
		CSG2 Q 1 offset(9,34) A_SetPitch(pitch +0.5)
		CSG2 Q 1 offset(6,36) A_SetPitch(pitch +0.5)
		CSG2 Q 1 offset(3,38) A_SetPitch(pitch +0.5)
		CSG2 Q 1 offset(0,38) A_SetPitch(pitch +0.5)
		CSG2 Q 1 offset(-3,36) A_SetPitch(pitch +0.5)
		CSG2 Q 1 offset(-6,34) A_SetPitch(pitch +0.5)
		CSG2 Q 1 offset(-9,32) A_SetPitch(pitch +0.5)
		CSG2 Q 0 offset(-9,32) A_WeaponReady(WRF_NOBOB)
		CSG2 Q 0 offset(-9,32) A_JumpIfInventory("IsRunning", 1, "Sprinting.GreenBlood")
		
		Goto StopSprint.GreenBlood
	
	StartSprint.BlueBlood:
		TNT1 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_FORWARD, 1)
		GOTO READY.blueblood
		CSB2 Q 1 A_WeaponReady(WRF_NOFIRE)
		CSB2 Q 0 A_Takeinventory("Zoomed",1)
		CSB2 Q 0 A_Takeinventory("ADSmode",1)
		CSB2 Q 0 A_ZoomFactor(1.0)
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 70, "StopSprintTired.BlueBlood")
		CSB2 Q 0 A_JumpIfInventory("UsedStamina", 1400, "StopSprintTired.BlueBlood")
	
	Sprinting.BlueBlood:	
	TNT1 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_FORWARD, 1)
		GOTO Stopsprint.blueblood
		CSB2 Q 0 offset(-9,32) 
		CSB2 Q 0 offset(-9,32) A_JumpIfInventory("IsStandingStill", 1, "waiting")
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 100, "StopSprintTired.BlueBlood")
		CSB2 Q 0 offset(-9,32) A_JumpIfInventory("UsedStamina", 2000, "StopSprintTired.BlueBlood")
		PLAY A 0 offset(-9,32) ACS_ExecuteAlways(852, 0, 0, 0, 0)//Makes player faster.
		CSB2 Q 0 offset(-9,32) A_JumpIfInventory("Powerstrength2", 1, 2)
		CSB2 Q 0 offset(-9,32) A_GiveInventory("UsedStamina", 10)
		CSB2 Q 0 offset(-9,32)
		CSB2 Q 1 offset(-9,34) A_SetPitch(pitch -0.5)
		CSB2 Q 1 offset(-6,36) A_SetPitch(pitch -0.5)
		CSB2 Q 1 offset(-3,38) A_SetPitch(pitch -0.5)
		CSB2 Q 1 offset(0,38) A_SetPitch(pitch -0.5)
		CSB2 Q 1 offset(3,36) A_SetPitch(pitch -0.5)
		CSB2 Q 1 offset(6,34) A_SetPitch(pitch -0.5)
		CSB2 Q 1 offset(9,32) A_SetPitch(pitch -0.5)
		CSB2 Q 0 offset(9,32) 
		CSB2 Q 0 A_JumpIfInventory("Kicking",1,"DOKICKSAW")
        CSB2 Q 0 A_JumpIfInventory("Taunting",1,"Taunt")
        CSB2 Q 0 A_JumpIfInventory("Reloading",1,"Reload")
		CSB2 Q 0 offset(-9,32) A_GiveInventory("UsedStamina", 6)
		CSB2 Q 0 offset(9,33) A_SpawnItemEx("FootStep", 0, 0, 2, 0, 0, -4)
		CSB2 Q 1 offset(9,34) A_SetPitch(pitch +0.5)
		CSB2 Q 1 offset(6,36) A_SetPitch(pitch +0.5)
		CSB2 Q 1 offset(3,38) A_SetPitch(pitch +0.5)
		CSB2 Q 1 offset(0,38) A_SetPitch(pitch +0.5)
		CSB2 Q 1 offset(-3,36) A_SetPitch(pitch +0.5)
		CSB2 Q 1 offset(-6,34) A_SetPitch(pitch +0.5)
		CSB2 Q 1 offset(-9,32) A_SetPitch(pitch +0.5)
		CSB2 Q 0 offset(-9,32) 
		CSB2 Q 0 offset(-9,32) A_JumpIfInventory("IsRunning", 1, "Sprinting.BlueBlood")
		
		Goto StopSprint.Blueblood
	StopSprintTired:
		SAW2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,4)
        SAW4 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
        SAW3 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,2)
		SAWG A 0
		"####" "#" 0
		"####" A 1
		"####" A 0 ACS_ExecuteAlways(853, 0, 0, 0, 0)//Makes player slower.
		"####" A 0 A_PlaySound("Tired", 2)
		"####" A 0 A_Jumpifhealthlower(25,"rupturesprint")												  
		"####" A 25 A_WeaponReady
		Goto waiting
	StopSprintTired.Blood:
		CSR2 Q 1
		PLAY A 0 ACS_ExecuteAlways(853, 0, 0, 0, 0)//Makes player slower.
		CSR2 Q 0 A_PlaySound("Tired", 2)
		CSR2 Q 0 A_TakeInventory("usedstamina", 1)
		TNT1 A 0 A_Jumpifhealthlower(25,"rupturesprint")	
		CSR2 Q 5 A_WeaponReady
		CSR2 Q 0 A_TakeInventory("usedstamina", 1)
		CSR2 Q 5 A_WeaponReady
		CSR2 Q 0 A_TakeInventory("usedstamina", 1)
		CSR2 Q 5 A_WeaponReady
		CSR2 Q 0 A_TakeInventory("usedstamina", 1)
		CSR2 Q 5 A_WeaponReady
		CSR2 Q 0 A_TakeInventory("usedstamina", 1)
		CSR2 Q 5 A_WeaponReady
		Goto waiting
		
	StopSprintTired.GreenBlood:
		CSG2 Q 1
		PLAY A 0 ACS_ExecuteAlways(853, 0, 0, 0, 0)//Makes player slower.
		CSG2 Q 0 A_PlaySound("Tired", 2)
		CSG2 Q 0 A_TakeInventory("usedstamina", 1)
		TNT1 A 0 A_Jumpifhealthlower(25,"rupturesprint")	
		CSG2 Q 5 A_WeaponReady
		CSG2 Q 0 A_TakeInventory("usedstamina", 1)
		CSG2 Q 5 A_WeaponReady
		CSG2 Q 0 A_TakeInventory("usedstamina", 1)
		CSG2 Q 5 A_WeaponReady
		CSG2 Q 0 A_TakeInventory("usedstamina", 1)
		CSG2 Q 5 A_WeaponReady
		CSG2 Q 0 A_TakeInventory("usedstamina", 1)
		CSG2 Q 5 A_WeaponReady
		Goto waiting
		
	StopSprintTired.BlueBlood:
		CSB2 Q 1
		PLAY A 0 ACS_ExecuteAlways(853, 0, 0, 0, 0)//Makes player slower.
		CSB2 Q 0 A_PlaySound("Tired", 2)
		CSB2 Q 0 A_TakeInventory("usedstamina", 1)
		TNT1 A 0 A_Jumpifhealthlower(25,"rupturesprint")	
		CSB2 Q 5 A_WeaponReady
		CSB2 Q 0 A_TakeInventory("usedstamina", 1)
		CSB2 Q 5 A_WeaponReady
		CSB2 Q 0 A_TakeInventory("usedstamina", 1)
		CSB2 Q 5 A_WeaponReady
		CSB2 Q 0 A_TakeInventory("usedstamina", 1)
		CSB2 Q 5 A_WeaponReady
		CSB2 Q 0 A_TakeInventory("usedstamina", 1)
		CSB2 Q 5 A_WeaponReady
		Goto waiting
	StopSprint:
		SAW2 A 0 A_JumpIfInventory("PowerBloodOnVisor",1,4)
        SAW4 A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,3)
        SAW3 A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,2)
		SAWG A 0
		"####" "#" 0
		"####" A 1
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 70, "StopSprintTired")
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 1400, "StopSprintTired")
		PLAY A 0 ACS_ExecuteAlways(853, 0, 0, 0, 0)//Makes player slower.
		Goto waiting
		
	StopSprint.Blood:
		CSR2 Q 1
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 70, "StopSprintTired.blood")
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 1400, "StopSprintTired.blood")
		PLAY A 0 ACS_ExecuteAlways(853, 0, 0, 0, 0)//Makes player slower.
		Goto waiting
		
	StopSprint.GreenBlood:
		CSG2 Q 1
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 70, "StopSprintTired.greenblood")
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 1400, "StopSprintTired.greenblood")
		PLAY A 0 ACS_ExecuteAlways(853, 0, 0, 0, 0)//Makes player slower.
		Goto waiting
		
	StopSprint.BlueBlood:
		CSB2 Q 1
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 70, "StopSprintTired.greenblood")
		TNT1 A 0 A_JumpIfInventory("UsedStamina", 1400, "StopSprintTired.greenblood")
		PLAY A 0 ACS_ExecuteAlways(853, 0, 0, 0, 0)//Makes player slower.
		Goto waiting

//////////////////
//RELOAD
/////////////////

		Reload:
		TNT1 A 0 A_Takeinventory("Reloading",1)
		TNT1 A 0 A_Takeinventory("ADSmode",1)
		TNT1 A 0 A_JumpIfInventory("sawfuel",50,"ready")
        TNT1 A 0 A_JumpIfInventory("GASAMMO",1,3)
        Goto REVUP
        TNT1 AAA 0
		TNT1 A 0 A_Takeinventory("Zoomed",1)
        TNT1 A 0 A_ZoomFactor(1.0)
		SHTN A 0 a_OVERLAY(3,"Fueltankopen")
		TNT1 A 0 SetPlayerProperty(0,1,4)
		
		SAWG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,4)
		 SAWG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
        SAWG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,4)
       
		
		///clean
		CSA1 L 49 offset(0,40)
		goto reload2
		
		///red blood
		CSR1 L 49 offset(0,55)
		goto reload2
		
		///greenblood
		CSG1 L 49 offset(0,55)
		goto reload2
		
		/// blue  blood
		CSB1 L 49 offset(0,55)
		goto reload2
		
		Reload2:
		SHTN A 0 a_OVERLAY(3,"RefuelAnimation", false)
		SHTN A 0 Acs_NAMEDEXECUTE("CROUCH",0)
		
		REFUELING:	
		SHTN A 0 A_JumpIfInventory("GASAMMO",1,2)
        Goto FINISHRELOAD
		SHTN A 0
		AXEG A 0 A_PlaySound("GASREFIL", 6,1.0,1)
		SSHR A 0 A_TakeInventory("Reloading", 1)
        SHTN A 0 A_JumpIfInventory("sawfuel",50,"FINISHreload")
        SHTN A 0 A_Giveinventory("sawfuel",1)
		SHTN A 0 A_Takeinventory("GASAmmo",1)
		FLMG A 0 A_JumpIfInventory("Kicking",1,"finishreload")
		
		SAWG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"RefuelBlood")
		 SAWG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"RefuelGreenBlood")
        SAWG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"RefuelBlueBlood")
		
		CSA1 L 1 offset(0,48) A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ATTACK, "finishreload")
		CSA1 L 1 offset(0,48) A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ALTATTACK, "finishreload")
		SHTN A 0 
		goto refueling
		
	RefuelBlood:
		CSR1 L 1 offset(0,55) A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ATTACK, "finishreload")
		CSR1 L 1 offset(0,55) A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ALTATTACK, "finishreload")
		SHTN A 0 
		goto refueling
		
	RefuelGreenBlood:
		CSG1 L 1 offset(0,55) A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ATTACK, "finishreload")
		CSG1 L 1 offset(0,55) A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ALTATTACK, "finishreload")
		SHTN A 0 
		goto refueling
	
	RefuelBlueBlood:
		CSB1 L 1 offset(0,55) A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ATTACK, "finishreload")
		CSB1 L 1 offset(0,55) A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ALTATTACK, "finishreload")
		SHTN A 0 
		goto refueling
		 
	FUELTANKOPEN:
		AXEG A 0 A_PlaySound("plugopen", 1)
		FUEL ABCDEFG 1
		FUEL HIJKLMNOHIJKLMNOHIJKLMNO 1
		FUEL PQRSTTTTTTU 1 
		FUEL VWXYZZZ 1 a_SETPITCH(PITCH+3)
		stop
	
	REFUELANIMATION:	
		FU3L A 5 a_SETPITCH(PITCH-3)
        FU3L BC 2 a_SETPITCH(PITCH+1.5)
		TNT1 A 0 A_JumpIfInventory("sawfuel",50,3)
		TNT1 A 0 A_JumpIfInventory("GASAMMO",1,1)
		stop
		TNT1 A 0 a_OVERLAY(3,"RefuelAnimation", false)
		stop
		TNT1 A 0 
		stop
		
	FUELTANKAWAY:
		FU3L B 1
		FUEL ZYXWVUTSRQPONMMLLKKKKJI 1
		TNT1 A 0 A_STOPSOUND(1)
		FUEL HPQRST 1  a_SETPITCH(PITCH-3)
		stop
		
	FINISHRELOAD:
	TNT1 A 0 A_STOPSOUND(6)
	AXEG A 0 A_PlaySound("plugclos", 1)
	SHTN A 0 a_OVERLAY(3,"FuelTankAway", false)
	SAWG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"FINISHRELOADBLOOD")
	SAWG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"FINISHRELOADGREENBLOOD")
    SAWG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"FINISHRELOADBLUEBLOOD")
	
	CSA1 L 7 offset(0,40)
	CSA1 L 17 offset(0,40)
	SHTN A 0 Acs_NAMEDEXECUTE("GETUP",0)
	CSA1 L 13 offset(0,40)
	CSA1 L 1 offset(0,40)
	TNT1 A 0 SetPlayerProperty(0,0,4)
	goto SelectAnimation
	
	
	FINISHRELOADBLOOD:
	CSR1 L 7 offset(0,55)
	CSR1 L 17 offset(0,55)
	SHTN A 0 Acs_NAMEDEXECUTE("GETUP",0)
	CSR1 L 13 offset(0,55)
	CSR1 L 1 offset(0,55)
	TNT1 A 0 SetPlayerProperty(0,0,4)
	goto SelectAnimation
	
	FINISHRELOADGREENBLOOD:
	CSG1 L 7 offset(0,55)
	CSG1 L 17 offset(0,55)
	SHTN A 0 Acs_NAMEDEXECUTE("GETUP",0)
	CSG1 L 13 offset(0,55)
	CSG1 L 1 offset(0,55)
	TNT1 A 0 SetPlayerProperty(0,0,4)
	goto SelectAnimation
	
	FINISHRELOADBLUEBLOOD:
	CSB1 L 7 offset(0,55)
	CSB1 L 17 offset(0,55)
	SHTN A 0 Acs_NAMEDEXECUTE("GETUP",0)
	CSB1 L 13 offset(0,55)
	CSB1 L 1 offset(0,55)
	TNT1 A 0 SetPlayerProperty(0,0,4)
	goto SelectAnimation
//////////////////	
	
//////////////////
//UNLOAD
/////////////////	

DropFuel:
	PDAM M 0 a_takeinventory("gasammo",20)
	PDAM M 0  A_SpawnItemEx("gasammo", random(51, 55), random(-4, 4), 40, 2, 0, 2, angle, SXF_ABSOLUTEANGLE)
	goto Unload3

CheckTank:
	TNT1 A 5
	TNT1 A 0 ACS_NamedExecutealways("ChainsawMagCheck",0)
	TNT1 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "CheckTANK")
	
	goto SelectAnimation

user4:		
		PIST F 0 A_Takeinventory("ADSmode",1)
		PIST F 0 A_JumpIfInventory("sawfuel",1,1)
        Goto NOFUEL
        TNT1 A 0
				
		PIST F 0 A_Takeinventory("Zoomed",1)
        BADF A 0 A_ZoomFactor(1.0)
		TNT1 A 0 A_SetCrosshair(0)	
		PIST F 0 A_Takeinventory("Reloading",1)
		
		SAWG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,4)
		 SAWG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
        SAWG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,4)
       
		
		///clean
		CSA1 L 2
		goto Unload2
		
		///red blood
		CSR1 L 2
		goto Unload2
		
		///greenblood
		CSG1 L 2
		goto Unload2
		
		/// blue  blood
		CSB1 L 2
		goto Unload2
		
	
	Unload2:
		TNT1 A 5
		TNT1 A 0 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_USER4, "CheckTANK")

		PIST F 0 A_JumpIfInventory("hasbackpack",1,3)
		PIST F 0 A_JumpIfinventory("GASAMMO",40,"DropFuel")
		PIST F 0 A_Jump(256,2)
		PIST F 0 A_JumpIfInventory("GASAMMO",60,"Dropfuel")
		
	Unload3:	
		SHTN A 0 Acs_NAMEDEXECUTE("CROUCH",0)
		TNT1 A 0 SetPlayerProperty(0,1,4)	
		AXEG A 0 A_PlaySound("plugopen", 1)
		FUEL ABCDEFG 1
		FUEL HIJKLMNOHIJKLMNOHIJKLMNO 1
		FUEL PQRSTTTTTT 1 a_SETPITCH(PITCH+2.5)
		
		
	RefillTank:
		TNT1 AAAA 0
		AXEG A 0 A_PlaySound("GASREFIL", 6,1.0,1)
		PIST F 0 A_JumpIfInventory("hasbackpack",1,3)
		PIST F 0 A_JumpIfinventory("GASAMMO",40,"FinishUnload")
		PIST F 0 A_Jump(256,2)
		PIST F 0 A_JumpIfInventory("GASAMMO",60,"FinishUnload")
		
		PIST F 0 A_JumpIfInventory("sawfuel",1,1)
		Goto FinishUnload
		
		FLMG A 0 A_JumpIfInventory("Kicking",1,"FinishUnload")
		TNT1 C 2 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ATTACK, "FinishUnload")
		TNT1 C 1 A_JumpIf(GetPlayerInput(INPUT_BUTTONS) & BT_ALTATTACK, "FinishUnload")
		
		PIST F 0 A_Takeinventory("sawfuel",1)
		PIST F 0 A_Giveinventory("GASAMMO",1)
		Goto Refilltank
		
	FinishUnload:
		TNT1 A 0 A_STOPSOUND(6)
		AXEG A 0 A_PlaySound("plugclos", 1)
		FUEL SRQPONMMLLKKKKJI 1
		TNT1 A 0 A_STOPSOUND(1)
		SHTN A 0 Acs_NAMEDEXECUTE("GETUP",0)
		FUEL HPQRSTTTT 1  a_SETPITCH(PITCH-3)
		TNT1 A 0 SetPlayerProperty(0,0,4)
		
		SAWG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,4)
		SAWG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,4)
        SAWG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,4)
       
		
		///clean
		CSA1 L 2
		goto SelectAnimation
		
		///red blood
		CSR1 L 2
		goto SelectAnimation
		
		///greenblood
		CSG1 L 2
		goto SelectAnimation
		
		/// blue  blood
		CSB1 L 2
		goto SelectAnimation
		
		
	DoKICKSAW:
		TNT1 A 0 A_JumpIfInventory("isdoomguy", 1, 4)
		TNT1 A 0 A_JumpIfInventory("LARGESTAMINA", 1, 2)
		TNT1 A 0 A_JumpifInventory("UsedStamina",95,4)
		TNT1 A 0 A_JumpifInventory("UsedStamina",1995,3)
		TNT1 A 0 A_overlay(3,"KICKSAW")
		TNT1 A 0 a_Jump(256,"Dokick")
		goto Ready3
		TNT1 A 0 A_overlay(3,"KICKSAWtired")
		TNT1 A 0 a_Jump(256,"Dokick")
		goto Ready3	
	
	/// NORMAL
	KICKSAW:
		AXEG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"KICKSAWRED")
		AXEG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"KICKSAWBlue")
        AXEG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"KICKSAWGREEN")
		TNT1 A 0 A_JumpIfInventory("chainsawoff", 1, "kicksawoff")
		SAWG ABA 1 
		SAWG BABABABABABA 1
		SAWG BAB 1 
		TNT1 A 0 A_JumpIfInventory("Airkicking", 1, 2)
		TNT1 A 0 A_JumpIfInventory("isSliding", 1, 1)
		stop
		SAWG ABABABABAB 1
		STOP
	KICKSAWOFF:
		SAWG B 18
		TNT1 A 0 A_JumpIfInventory("Airkicking", 1, 2)
		TNT1 A 0 A_JumpIfInventory("isSliding", 1, 1)
		stop
		SAWG B 10
		STOP
		
	KICKSAWtired:
		AXEG A 0 A_JumpIfInventory("PowerBloodOnVisor",1,"KICKSAWREDTIRED")
		AXEG A 0 A_JumpIfInventory("PowerBlueBloodOnVisor",1,"KICKSAWBlueTIRED")
        AXEG A 0 A_JumpIfInventory("PowerGreenBloodOnVisor",1,"KICKSAWGREENTIRED")
		TNT1 A 0 A_JumpIfInventory("chainsawoff", 1, "kicksawtiredoff")
		SAWG ABABAB 1
		SAWG ABABABABABABABABABABABABABABABABABA 1
		SAWG BABABA 1
		STOP	
	KICKSAWtiredOFF:
		SAWG B 50
		stop
		
		//RED
	KICKSAWRED:
		TNT1 A 0 A_JumpIfInventory("chainsawoff", 1, "kicksawredoff")
		SAW2 ABA 1 
		SAW2 BABABABABABA 1
		SAW2 BAB 1 
		TNT1 A 0 A_JumpIfInventory("Airkicking", 1, 2)
		TNT1 A 0 A_JumpIfInventory("isSliding", 1, 1)
		stop
		SAW2 ABABABABAB 1
		STOP
	KICKSAWREDOFF:
		SAW2 A 18
		TNT1 A 0 A_JumpIfInventory("Airkicking", 1, 2)
		TNT1 A 0 A_JumpIfInventory("isSliding", 1, 1)
		stop
		SAW2 A 10
		STOP
		
	KICKSAWREDtired:
		TNT1 A 0 A_JumpIfInventory("chainsawoff", 1, "kicksawredtiredoff")
		SAW2 ABABAB 1
		SAW2 ABABABABABABABABABABABABABABABABABA 1
		SAW2 BABABA 1
		STOP	
	KICKSAWREDtiredOFF:
		SAW2 A 50
		stop
		
		//BLUE
	KICKSAWBLUE:
		TNT1 A 0 A_JumpIfInventory("chainsawoff", 1, "kicksawBLUEoff")
		SAW4 ABA 1 
		SAW4 BABABABABABA 1
		SAW4 BAB 1 
		TNT1 A 0 A_JumpIfInventory("Airkicking", 1, 2)
		TNT1 A 0 A_JumpIfInventory("isSliding", 1, 1)
		stop
		SAW4 ABABABABAB 1
		STOP
	KICKSAWBLUEOFF:
		SAW4 A 18
		TNT1 A 0 A_JumpIfInventory("Airkicking", 1, 2)
		TNT1 A 0 A_JumpIfInventory("isSliding", 1, 1)
		stop
		SAW4 A 10
		STOP
		
	KICKSAWBLUEtired:
		TNT1 A 0 A_JumpIfInventory("chainsawoff", 1, "kicksawbluetiredoff")
		SAW4 ABABAB 1
		SAW4 ABABABABABABABABABABABABABABABABABA 1
		SAW4 BABABA 1
		STOP	
	KICKSAWBLUEtiredOFF:
		SAW4 A 50
		stop
		
		//GREEN
	KICKSAWGREEN:
		TNT1 A 0 A_JumpIfInventory("chainsawoff", 1, "kicksawGREENoff")
		SAW3 ABA 1 
		SAW3 BABABABABABA 1
		SAW3 BAB 1 
		TNT1 A 0 A_JumpIfInventory("Airkicking", 1, 2)
		TNT1 A 0 A_JumpIfInventory("isSliding", 1, 1)
		stop
		SAW3 ABABABABAB 1
		STOP
	KICKSAWGREENOFF:
		SAW3 A 18
		TNT1 A 0 A_JumpIfInventory("Airkicking", 1, 2)
		TNT1 A 0 A_JumpIfInventory("isSliding", 1, 1)
		stop
		SAW3 A 10
		STOP	
		
	KICKSAWGREENtired:
		TNT1 A 0 A_JumpIfInventory("chainsawoff", 1, "kicksawgreentiredoff")
		SAW3 ABABAB 1
		SAW3 ABABABABABABABABABABABABABABABABABA 1
		SAW3 BABABA 1
		STOP	
	KICKSAWGREENtiredOFF:
		SAW3 A 50
		stop
	
	
	goingtoaction:
		SAWY EDCBA 1
		
	goingtoaction2:
		TNT1 A 0 A_TakeInventory("throwtoken", 1)
		TNT1 A 0 A_TakeInventory("slashtoken", 1)
		TNT1 A 0 A_TakeInventory("flaretoken", 1)
		AXEG A 0 A_TakeInventory("TossGrenade", 1)
		AXEG A 0 A_Takeinventory("PowerBloodOnVisor",1)
		AXEG A 0 A_Takeinventory("PowerBlueBloodOnVisor",1)
		AXEG A 0 A_Takeinventory("PowerGreenBloodOnVisor",1)
		TNT1 A 0 A_JumpIfInventory("weargasmask", 1, "wearanimation")
		TNT1 A 0 A_JumpIfInventory("removegasmask", 1, "removeanimation")
		TNT1 A 0 A_JumpIfInventory("battledrugtoken",1,"drugshot")
		TNT1 A 0 A_JumpIfInventory("BANDAGETOKEN",1,"BANDAGE")
		goto repair
	
	}
}




ACTOR SawDamageHorizontal: FastProjectile
{
	Radius 22
	Height 2
	DamageType ChainCut
	Projectile 
	+FORCEXYBILLBOARD
	+EXTREMEDEATH
	+BLOODSPLATTER
	RenderStyle Add
	Decal "BulletDecalNew1"
	Alpha 0.6
    Damage (random(50,60))
    Speed 50
	//HitObituary "$OB_IMPHIT"
	SeeSound "none"
	DeathSound "none"
	Decal "none"
	decal "SawHorizontal"
	States
	{
	Spawn:
		SAWG A 0 BRIGHT
        TNT1 A 1 //A_PlaySound("weapons/gswing")
		Stop
	Death:
			SAWG A 0
			//SAWG A 0 A_SpawnItem("SSAwPuff")
			//SAWG A 0 A_PlaySound("DSSAWAL", 1)
			TNT1 A 1 Radius_Quake(2, 3, 0, 4, 0)
			TNT1 A 10
			Stop
	XDeath:
		SAWG A 0
		TNT1 A 1 Radius_Quake(2, 3, 0, 4, 0)
		SAWG A 0 A_PlaySound("CSAWFLESH", 1)
		TNT1 A 10
		Stop
	}
}

ACTOR SawDamageHorizontal2: SawDamageHorizontal
{
	-BLOODSPLATTER
	+BLOODLESSIMPACT
}

ACTOR SawDamageVertical: SawDamageHorizontal
{
	DamageType ChainSaw
    Damage (random(150,200))
	decal "SawVertical"
}

ACTOR SawDamageVerticalNoStuck: SawDamageHorizontal
{
	DamageType ChainSaw
    Damage (random(150,200))
	decal "SawVertical"
}												   

ACTOR SawDamageVertical2: SawDamageVertical
{
	-BLOODSPLATTER
	+BLOODLESSIMPACT
}

ACTOR ChainsawOFF : Inventory { Inventory.MaxAmount 1 }